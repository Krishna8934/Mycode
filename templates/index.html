{% extends 'base.html' %}
{% block content %}

<h3>All Solutions</h3>

<form method="get" action="{{ url_for('index') }}" class="mb-3 d-flex">
  <input type="text" name="q" class="form-control me-2" 
         placeholder="Search..."
         value="{{ request.args.get('q', '') }}">
  <button class="btn btn-primary" type="submit">Search</button>
</form>

<ul class="list-group">
  {% if posts %}
    {% for p in posts %}
      <li class="list-group-item">
        <a href="{{ url_for('post', post_id=p['id']) }}">
          <strong>#{{ p['problem_no'] }} - {{ p['title'] }}</strong>
        </a>
        <div>By <em>{{ p['username'] }}</em> on {{ p['date'] }}</div>
      </li>
    {% endfor %}
  {% else %}
    <p class="text-muted">No posts found.</p>
  {% endif %}
</ul>

{% endblock %}
